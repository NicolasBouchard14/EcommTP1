<%= simple_form_for @project do |f| %>
  <%= f.input :name, :hint => 'The title of your project' %>

  <ul class="nav nav-tabs" role="tablist">
    <li class="active">
      <%= link_to 'Tasks (:has_many --nested)', '#tasks', data: {toggle: 'tab'} %>
    </li>
    <li>
      <%= link_to 'People (:has_many)', '#people', data: {toggle: 'tab'} %>
    </li>
    <li>
      <%= link_to 'Owner (:belongs_to)', '#owner', data: {toggle: 'tab'} %>
    </li>
    <li>
      <%= link_to 'Tags (:has_many :through)', '#tags', data: {toggle: 'tab'} %>
    </li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="tasks" role="tabpanel">
      <%= f.simple_fields_for :tasks do |task|
      %><%= render 'task_fields', :f => task %>
      <% end %>
      <div class="links">
        <%= link_to_add_association 'add task', f, :tasks %>

      </div>
    </div>
    <div class="tab-pane" id="people" role="tabpanel">
      <%= f.simple_fields_for :people do |person|
      %><%= render 'person_fields', :f => person %>
      <% end %>
      <div class="links">
        <%= link_to_add_association 'add person', f, :people %>
      </div>
    </div>
    <div class="tab-pane" id="owner" role="tabpanel">
      <div id="owner_from_list">
        <%= f.association :owner, collection: Person.order(:name), prompt: 'Choose an existing owner' %>
      </div><%= link_to_add_association 'add a new person as owner', f, :owner %>
    </div>
    <div class="tab-pane" id="tags" role="tabpanel">
      <%= f.simple_fields_for :project_tags do |project_tag|
      %><%= render 'project_tag_fields', :f => project_tag %>
      <% end %>
      <%= link_to_add_association 'add a tag', f, :project_tags %>
    </div>
  </div>
  <div class="actions">
    <%= f.button :submit, :disable_with => 'Please wait ...' %>
  </div>
<% end %>
